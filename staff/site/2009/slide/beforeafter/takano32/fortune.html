<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"> 
<head> 
  <title>劇的ビフォーアフター fortuneとRubyの邂逅</title> 
  <meta name="copyright" 
   content="Copyright &#169; 2009 TAKANO Mitsuhiro" /> 
  <!-- <link rel="stylesheet" type="text/css" media="screen, projection, print" 
   href="http://www.w3.org/Talks/Tools/Slidy/slidy.css" /> 
  <script src="http://www.w3.org/Talks/Tools/Slidy/slidy.js" 
   type="text/javascript"></script> -->
  <link rel="stylesheet" type="text/css" href="slide.css" media="screen, projection, print" />
<script src="slidy.js" type="text/javascript"></script>
  <style type="text/css">
div.slide {
  background:url(http://ll.jus.or.jp/2009/slide/beforeafter/takano32/jus_mini.jpg) no-repeat 100% 100%;
  font-size: 140%;
}
pre {
  white-space: -moz-pre-wrap; /* Mozilla */
  white-space: -pre-wrap;     /* Opera 4-6 */
  white-space: -o-pre-wrap;   /* Opera 7 */
  white-space: pre-wrap;      /* CSS3 */
  word-wrap: break-word;      /* IE 5.5+ */
  word-break: break-all;      /* IE */
}

    <!-- your custom style rules --> 
  </style> 
</head>
<body>

<div class="slide">
<h1 style="display: none;">劇的ビフォーアフター on LLTV</h1>
<br />
<br />
<br />
<div style="text-align: center;">
<span style="font-size: 200%;">fortuneとRubyの邂逅</span> <br />
Command "fortune" meets Ruby<br />
<br />
劇的ビフォーアフター<br />
LLTV  2009-08-29<br />
<br />

高野光弘 / @takano32 &lt;tak@no32.tk&gt; <br />
日本{UNIXユーザ,Rubyの}会<br />

</div>
</div>

<div class="slide">
<h1><img src="takano32.jpg" />自己紹介</h1>
takano32 / 高野光弘
<ul>
  <li>UNIX / Linux
  <li>Ruby committer (IA-64 maintainer)
  <li>Virtual Machine Moniter developer
  <li>インターネットに好んで棲息
  <li>他の個体はアイコンで探そう！
</ul>
</div>



<div class="slide">
<h1>(混沌な)(Rubyの)匠</h1>
<br />
<br />
<br />
<br />
<br />
<div style="text-align: center;">
<span style="font-size: 200%;">
混沌なRubyの匠
</span>
</div>
</div>


<div class="slide">
<h1>混沌な匠</h1>
<br />
<br />
<br />
<br />
<br />
<div style="text-align: center;">
<span style="font-size: 200%;">
かんたん■■なRubyの匠
</span>
</div>
</div>



<div class="slide">
<h1>fortuneコマンド</h1>
whatis fortune
<blockquote>
print a random, hopefully interesting, adage
</blockquote>
ランダムにありがたいお言葉を授けてくれるコマンド
</div>


<div class="slide">
<h1>fortuneコマンド</h1>
実行例
<pre>
$ fortune
The hardest thing in the world to understand is the income tax.
		-- Albert Einstein
</pre>
</div>



<div class="slide">
<h1>fortuneコマンド</h1>
fortune
<ul>
  <li>BSD games の環境コマンド
  <li>様々な機能が豊富
  <li>意外と<big>改造しにくい</big>
  <li>作り直すには良い題材？
  <li>Ruby で <big>DSL</big> を作って実装？
</ul>
LLTV 劇的ビフォーアフター メモ より
</div>

<div class="slide">
<h1>匠の思惑</h1>
<ul>
  <li>改造しにくい <br />
       <ul>
	 <li>そのまま使う
	 <li>車輪の再発明とかキライ
	 <li>ハッテンさせていく方針
       </ul>
  <li>DSLを作って実装 <br />
       <ul>
	 <li>なんかカッコイイですよね
       </ul>
</ul>
</div>

<div class="slide">
<h1>DSLって何？</h1>
<blockquote>
ドメイン固有言語（Domain-Specific Language、DSL）とは、特定のタスク向けに設計されたプログラミング言語を意味する。ドメイン特化言語あるいはドメイン固有プログラミング言語とも。C言語やJavaのような汎用プログラミング言語やUMLのような汎用モデリング言語と対照的な用語である。
</blockquote>
ヨクワカンネ・・・
</div>

<div class="slide">
<h1>匠のDSL定義</h1>
<br />
<br />
<br />
<br />
<br />
<div style="text-align: center;">
<span style="font-size: 200%;">
{:DSL => :Symbol}
</span>
</div>
</div>

<div class="slide">
<h1>{:DSL => :Symbol}</h1>
<ul>
  <li>keyとvalueにSymbolを使ったHash
  <li>Railsでよく使われているアレ
       <ul>
	 <li>外側の "{" と "}" は省略可能
       </ul>
  <li><big>カッコイイ</big>感じ
       <ul>
	 <li>なにかの専用言語っぽくはならないかも
       </ul>
</ul>
</div>


<div class="slide">
<h1>匠の方針</h1>
改造のポイント
<ol>
  <li>すでにある素材を活かす！ <br />
       <s>メンドクサイ</s>
  <li>ユニバーサルデザイン！ <br />
       なんか言葉がかっこいいし、匠っぽい
  <li>若者も使えるコマンドに改造！ <br />
       ナウいfortuneにする
</ol>
</div>


<div class="slide">
<h1>ユニバーサルデザイン！</h1>
<blockquote>
ユニバーサルデザイン（Universal Design、UDと略記することもある）とは、<big>文化・言語・国籍の違い</big>、老若男女といった差異、障害・能力の如何<big>を問わずに利用することができる</big>施設・製品・情報の設計（デザイン）をいう。
<br />
 -- フリー百科事典『ウィキペディア（Wikipedia）』
</blockquote>
</div>

<div class="slide">
<h1>ユニバーサルデザインとは？</h1>
一部抜粋
<blockquote><big>
文化・言語・国籍の違いを問わずに利用することができる
</big></blockquote>
とりあえず国際化にしようか？
</div>


<div class="slide">
<h1>国際化とは？</h1>
Internationalization => i18n
<blockquote>
国際化はソフトウェアに技術的な変更を加えることなく多様な言語や地域に適合できるようにする、ソフトウェア設計の工程である。
<br />
 -- フリー百科事典『ウィキペディア（Wikipedia）』
</blockquote>
国際化してよう => 多言語での出力
</div>


<div class="slide">
<h1>実装</h1>
ユニバーサルデザイン実装
<ul>
  <li>fortuneから結果を受け取る
  <li><s>:Symbol</s> DSLに応じて翻訳クラスの作成
  <li>翻訳クラスが各国語に翻訳
</ul>
i18nっぽいカンジがする！
</div>

<div class="slide">
<h1>具体的な実装</h1>
某サイトの翻訳機能を利用
<ul>
  <li>原文をテキストエリアに入れてサブミット・・・ <br />
       原文をテキストエリアに入れてサブミット・・・<br />
       原文をテキストエリアに入れてサブミット・・・
       <ul>
	 <li>WWW::Mechanize
       </ul>
  <li>各言語で依存する部分が少ない
       <ul>
	 <li>翻訳クラスの量産が可能
       </ul>
</ul>
</div>





<div class="slide">
<h1>デモ</h1>
</div>






<div class="slide">
<h1>若者も使えるコマンドに改造！</h1>
fortuneのイケてないところ
<ul>
  <li>お言葉がありがたすぎる
  <li>意味がわからない
  <li>周囲の話題についていけない
</ul>
新世紀fortuneが必要！
</div>


<div class="slide">
<h1>新世紀fortune</h1>
刹那的なインターネット世代のfortune
<ul>
  <li>占いのような軽いお言葉
  <li>飽きないほどの定期的な更新
  <li>全国的に有名
</ul>
う、占いカウントダウン・・・とか！？
</div>


<div class="slide">
<h1>占いカウントダウン</h1>
めざまし占いカウントダウンとは
<ul>
  <li>他局
  <li>朝番組
  <li>毎朝
  <li>録画とか大変・・・
</ul>
探したらWebページがあった！！
</div>

<div class="slide">
<h1>新世紀fortune実装</h1>
めざまし占いカウントダウンのサイト
<ul>
  <li>ページがとても・・・きたないです・・・
       <ul>
	 <li>画面遷移がない
	 <li>パラメータ展開だけしてるっぽい
	 <li>そして、状態マシン地獄へ・・・
       </ul>
</ul>
切り出せたデータも妥当じゃない・・・
</div>

<div class="slide">
<h1>実装のコツ</h1>
<ul>
  <li>妥協できるところでデータは削る
       <ul>
	 <li>システマチックな出力ではない
	 <li>ラッキーアイテムとかは削った
       </ul>
  <li>妥当でないHTML断片
       <ul>
	 <li>そんなのかんけぇねぇ
	 <li> # w3m -dump -T text/html ...
       </ul>
</ul>
ものすごくやっつけっぽいけどできた
</div>



<div class="slide">
<h1>デモ</h1>
</div>



<div class="slide">
<h1>Rubyによるビフォーアフター</h1>
まとめ
<ul>
  <li>劇的ではない
       <ul>
	 <li>普通に便利なモノができて笑えた
	 <li>DSLはRailsのイメージが強い
       </ul>
  <li>外部コマンドを使<s>わないと間に合わない</s>うとラク
       <ul>
	 <li>シェルスクリプトが本筋なので楽しみ :-)
       </ul>
  <li>匠からのお願い
       <ul>
	 <li>Ruby 1.9.x を使いましょう！！
       </ul>
</ul>
</div>



<div class="slide">
<h1>提供</h1>
<br />
<center>
<big>
<img src="jus.jpg" style="width: 50%; height: 50%;"/> <br />
日本UNIXユーザ会 <br />
</big>
</center>
</div>


<!-- <ul class="incremental"> -->

<!--
<div class="slide" style="background:url(llfuture.jpg) no-repeat 50% 60%;">
<h1>Enjoy! LL Golf!!</h1>
<br />

<div style="text-align: center; font-size: 160%; line-height: 140%; color: teal;">

Thank you for your listening!<br />
<br />
<br />
<br />
<br />
<br />
Let's get <a href="Holes.html" style="color: teal;">started</a>!!
</div>

</div>
-->

</body>
</html>
