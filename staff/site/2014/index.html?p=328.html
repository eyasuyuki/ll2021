<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="ja">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="ja">
<![endif]-->
<!--[if !(IE 7) | !(IE 8) ]><!-->
<html lang="ja">
<!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>LL Quiz 解答及び解説 | LL Diver</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="xmlrpc.php">
	<!--[if lt IE 9]>
	<script src="http://ll.jus.or.jp/2014/wp-content/themes/twentyfourteen/js/html5.js"></script>
	<![endif]-->
	<link rel="alternate" type="application/rss+xml" title="LL Diver &raquo; フィード" href="feed" />
<link rel="alternate" type="application/rss+xml" title="LL Diver &raquo; コメントフィード" href="comments/feed" />
<link rel='stylesheet' id='twentyfourteen-lato-css'  href='http://fonts.googleapis.com/css?family=Lato%3A300%2C400%2C700%2C900%2C300italic%2C400italic%2C700italic' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='wp-content/themes/twentyfourteen/genericons/genericons.css?ver=3.0.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfourteen-style-css'  href='wp-content/themes/twentyfourteen/style.css?ver=4.0.1.css' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentyfourteen-ie-css'  href='http://ll.jus.or.jp/2014/wp-content/themes/twentyfourteen/css/ie.css?ver=20131205' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='wp-includes/js/jquery/jquery.js?ver=1.11.1'></script>
<script type='text/javascript' src='wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.0.1" />
<link rel='canonical' href='index.html?p=328.html' />
<link rel='shortlink' href='index.html?p=328.html' />
<!-- Added by Analytics Head plugin: http://wordpress.ujagody.pl/plugins/google-analytics/ -->
<script type="text/javascript">
   var _gaq = _gaq || [];
   _gaq.push(['_setAccount', 'UA-4274904-1']);
   _gaq.push(['_trackPageview']);
   (function(){
      var ga=document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src=('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s=document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
   })();
</script>
<!-- BEGIN: WP Social Bookmarking Light -->
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ja_JP/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>   
<style type="text/css">
.wp_social_bookmarking_light{
    border: 0 !important;
    padding: 10px 0 20px 0 !important;
    margin: 0 !important;
}
.wp_social_bookmarking_light div{
    float: left !important;
    border: 0 !important;
    padding: 0 !important;
    margin: 0 5px 0px 0 !important;
    min-height: 30px !important;
    line-height: 18px !important;
    text-indent: 0 !important;
}
.wp_social_bookmarking_light img{
    border: 0 !important;
    padding: 0;
    margin: 0;
    vertical-align: top !important;
}
.wp_social_bookmarking_light_clear{
    clear: both !important;
}
#fb-root{
    display: none;
}
.wsbl_twitter{
    width: 100px;
}
.wsbl_facebook_like iframe{
    max-width: none !important;
}</style>
<!-- END: WP Social Bookmarking Light -->

<!-- Styles cached and displayed inline for speed. Generated by http://stylesplugin.com -->
<style type="text/css" id="styles-plugin-css">

</style>
</head>

<body class="page page-id-328 page-template page-template-page-templatesfull-width-php custom-background styles masthead-fixed full-width singular">
<div id="page" class="hfeed site">
	
	<header id="masthead" class="site-header" role="banner">
		<div class="header-main">
			<h1 class="site-title"><a href="index.html" rel="home">LL Diver</a></h1>

			<div class="search-toggle">
				<a href="index.html?p=328.html#search-container" class="screen-reader-text">検索</a>
			</div>

			<nav id="primary-navigation" class="site-navigation primary-navigation" role="navigation">
				<button class="menu-toggle">メインメニュー</button>
				<a class="screen-reader-text skip-link" href="index.html?p=328.html#content">コンテンツへ移動</a>
				<div class="menu-ll-diver-container"><ul id="menu-ll-diver" class="nav-menu"><li id="menu-item-169" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-169"><a href="index.html">LL Diver</a></li>
<li id="menu-item-168" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-168"><a href="index.html?p=9.html">LL Diver開催案内</a></li>
<li id="menu-item-173" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-173"><a href="index.html?p=49.html">プログラム</a></li>
<li id="menu-item-224" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-224"><a href="index.html?p=198.html">タイムテーブル</a></li>
<li id="menu-item-346" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-346"><a href="index.html?p=260.html">アンケート</a></li>
<li id="menu-item-171" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-171"><a href="index.html?p=77.html">アーカイブ</a></li>
</ul></div>			</nav>
		</div>

		<div id="search-container" class="search-box-wrapper hide">
			<div class="search-box">
				<form role="search" method="get" class="search-form" action="index.html">
				<label>
					<span class="screen-reader-text">検索:</span>
					<input type="search" class="search-field" placeholder="検索 &hellip;" value="" name="s" title="検索:" />
				</label>
				<input type="submit" class="search-submit" value="検索" />
			</form>			</div>
		</div>
	</header><!-- #masthead -->

	<div id="main" class="site-main">

<div id="main-content" class="main-content">


	<div id="primary" class="content-area">
		<div id="content" class="site-content" role="main">
			
<article id="post-328" class="post-328 page type-page status-publish hentry">
	<header class="entry-header"><h1 class="entry-title">LL Quiz 解答及び解説</h1></header><!-- .entry-header -->
	<div class="entry-content">
		<div class='wp_social_bookmarking_light'><div class="wsbl_hatena_button"><a href="http://b.hatena.ne.jp/entry/http://ll.jus.or.jp/2014/quiz-answer" class="hatena-bookmark-button" data-hatena-bookmark-title="LL Quiz 解答及び解説" data-hatena-bookmark-layout="simple-balloon" title="このエントリーをはてなブックマークに追加"> <img src="http://b.hatena.ne.jp/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="http://b.hatena.ne.jp/js/bookmark_button.js" charset="utf-8" async="async"></script></div><div class="wsbl_facebook_like"><div id="fb-root"></div><fb:like href="http://ll.jus.or.jp/2014/quiz-answer" layout="button_count" action="like" width="100" share="false" show_faces="false" ></fb:like></div><div class="wsbl_twitter"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url=http%3A%2F%2Fll.jus.or.jp%2F2014%2Fquiz-answer&amp;text=LL%20Quiz%20%E8%A7%A3%E7%AD%94%E5%8F%8A%E3%81%B3%E8%A7%A3%E8%AA%AC&amp;lang=ja&amp;count=horizontal" style="width:130px; height:20px;"></iframe></div></div><br class='wp_social_bookmarking_light_clear' /><h2><a href="http://llquiz-2014.appspot.com/">問題および回答ページはこちら</a></h2>
<p>下記はネタバレになります。</p>
<p><span id="more-328"></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>全体解説</h2>
<p>今回の問題は、どちらも探索問題と呼ばれる問題になります。探索問題は問題ごとに様々な解き方があるため、一般的に論じることは難しいのですが、今回はその中でも<a href="http://ja.wikipedia.org/wiki/%E6%B7%B1%E3%81%95%E5%84%AA%E5%85%88%E6%8E%A2%E7%B4%A2">深さ優先探索 (Depth First Search, DFS)</a>で解答可能な問題を作成しました。LL Diverらしく、深く潜りながら探索していただきたいとの思いでした(もちろん、他の解法もあります)。<br />
なおこのページでは、簡易的に C/C++/Java に似た記法を使って解答例を記述しています。</p>
<h2>問題1</h2>
<h3>概要解説</h3>
<p><a href="http://ja.wikipedia.org/wiki/%E5%B7%A1%E5%9B%9E%E3%82%BB%E3%83%BC%E3%83%AB%E3%82%B9%E3%83%9E%E3%83%B3%E5%95%8F%E9%A1%8C">巡回セールスマン問題 (Travelling Salesperson Problem, TSP)</a> と呼ばれる問題です。この問題はチューリング困難問題(「多項式時間での解法はほぼ無い」と思われている問題) であり、全探索が有効に働く問題です。<br />
ここでは2種類の解法を紹介しますが、どちらの場合も10! (10の階乗, 3628800)程度の計算量がかかります。一般的に、10!程度であれば大抵の言語・大抵のパソコンで1秒以内で答えを得ることが出来ます。</p>
<h3>解法1</h3>
<p>単純に、深さ優先探索を行います。<br />
深さ優先探索の場合、アルゴリズムは大体次のようになります。</p>
<pre>int calculateMin(
    Node currentNode, // 現在の都市
    Set notVisitedNode, // まだ訪れてない都市
    int pathLength) { // スタート地点から
                      // 現在の都市までの距離
  int minLength = MAX_INTEGER;
  for (Node nextNode : notVisitedNode) {
     // 次にnextNodeを選択したと仮定して、
     // その際の最短距離を求める
    int length = calculateMin(
        nextNode,
        // すでにnextNodeには付いているので、
        // notVisitedNodeからは取り除いて
        // もう一度訪れないようにする
        notVisitedNode - nextNode,
        // スタート地点から
        // nextNodeまでの距離を計算する。
        pathLength + distance(currentNode, nextNode));
    if (length &lt; minLength) {
      minLength = length;
    }
  }
  return minLength;
}

calculateMin(0, {1,2,3,4,5,6,7,8,9}, 0);
</pre>
<h3>解法2</h3>
<p>permutationを使える言語の場合、もう少し簡単に書くことができます。</p>
<pre>// 最初は順番に訪れる
int[] order = [1,2,3,4,5,6,7,8,9];
int minLength = MAX_INTEGER;
do {
  // 一番最初は必ず0から始める
  int[] fullOrder = [0] + order;
  int length = 0;
  for (int i = 0; i &lt; fullOrder.size() - 2; i++) {
    length += distance(fullOrder[i], fullOrder[i+1];
  }
  if (length &lt; minLength) {
    minLength = length;
  }
} while (hasNext(initialOrder))
</pre>
<h3>答え</h3>
<p>答えは、PALINDROME (回文)となります。<br />
なお、その場合の距離は1991となりますが、これは回文数 (数字を後ろから見ても同じ値)であり、さらにこれを16進数表記にした場合も7C7 (0x7C7 == 1991)という回文数となります。</p>
<h2>問題2</h2>
<h3>概要解説</h3>
<p>探索問題として有名な<a href="http://ja.wikipedia.org/wiki/%E3%82%A8%E3%82%A4%E3%83%88%E3%83%BB%E3%82%AF%E3%82%A4%E3%83%BC%E3%83%B3#n-.E3.82.AF.E3.82.A4.E3.83.BC.E3.83.B3">n-Queen問題</a>を少し変え、Queenの代わりにKingを配置する問題としました。n-Queen問題の場合は回転を同一視するなどの難しさがありますが、この問題ではもっとシンプルにしています。</p>
<h3>解法1</h3>
<p>全探索解法です。</p>
<pre>int counter = 0;
int count(
  // すでに置かれた場所
  Set kings,
  // 置こうとする場所
  Cell putCell) {
  // さらにその次のcellを計算する
  nextCell = calculateNext(putCell);
  // putCellに置けるかどうかチェック
  if (canPut(kings, putCell)) {
    // putCellにおける場合は、とりあえず置いた場合を計算
    if (nextCell == null) {
      counter++;
    } else {
      count(kings + putCell, nextCell);
    }
  }
  // putCellに置かない場合も計算
  if (nextCell == null) {
    counter++;
  } else {
    count(kings, nextCell);
  }
}
count(kings, Cell(0, 0));
</pre>
<h3>解法2</h3>
<p>より計算量を減らす方法です。n-Queen問題と異なり、n-Kingの場合にはm行目のおき方はm+2行目に全く影響を与えないため、動的計画法を使うことが出来ます。</p>
<p>(擬似コードについては後日追加します)</p>
<h3>答え</h3>
<p>答えは9720になります。</p>
	</div><!-- .entry-content -->
</article><!-- #post-## -->
		</div><!-- #content -->
	</div><!-- #primary -->
</div><!-- #main-content -->

<div id="secondary">
		<h2 class="site-description">Dive into Lightweight Languages</h2>
	
	
		<div id="primary-sidebar" class="primary-sidebar widget-area" role="complementary">
		<aside id="pages-2" class="widget widget_pages"><h1 class="widget-title">メニュー</h1>		<ul>
			<li class="page_item page-item-25"><a href="index.html">LL Diver</a></li>
<li class="page_item page-item-9"><a href="index.html?p=9.html">LL Diver開催案内</a></li>
<li class="page_item page-item-49"><a href="index.html?p=49.html">プログラム</a></li>
<li class="page_item page-item-198"><a href="index.html?p=198.html">タイムテーブル</a></li>
<li class="page_item page-item-67"><a href="index.html?p=67.html">チケット</a></li>
<li class="page_item page-item-285"><a href="index.html?p=285.html">会場ネットワーク</a></li>
<li class="page_item page-item-236"><a href="index.html?p=236.html">お台場情報</a></li>
<li class="page_item page-item-260"><a href="index.html?p=260.html">アンケート</a></li>
<li class="page_item page-item-145"><a href="index.html?p=145.html">当日スタッフ募集</a></li>
<li class="page_item page-item-328 current_page_item"><a href="index.html?p=328.html">LL Quiz 解答及び解説</a></li>
<li class="page_item page-item-77 page_item_has_children"><a href="index.html?p=77.html">アーカイブ</a>
<ul class='children'>
	<li class="page_item page-item-353"><a href="index.html?p=353.html">発表資料</a></li>
</ul>
</li>
		</ul>
		</aside><aside id="nav_menu-3" class="widget widget_nav_menu"><h1 class="widget-title">リンク</h1><div class="menu-%e3%83%aa%e3%83%b3%e3%82%af-container"><ul id="menu-%e3%83%aa%e3%83%b3%e3%82%af" class="menu"><li id="menu-item-174" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-174"><a href="http://ll.jus.or.jp/blog">LL Blog</a></li>
<li id="menu-item-175" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-175"><a href="http://twitter.com/lljapan/">Twitter</a></li>
<li id="menu-item-176" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-176"><a href="http://facebook.com/lljapan/">Facebook</a></li>
</ul></div></aside>	</div><!-- #primary-sidebar -->
	</div><!-- #secondary -->

		</div><!-- #main -->

		<footer id="colophon" class="site-footer" role="contentinfo">

			
			<div class="site-info">
								<a href="http://ja.wordpress.org/">Proudly powered by WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- #colophon -->
	</div><!-- #page -->

	<!-- BEGIN: WP Social Bookmarking Light -->
<!-- END: WP Social Bookmarking Light -->
<script type='text/javascript' src='wp-content/themes/twentyfourteen/js/functions.js?ver=20140319'></script>
</body>
</html>
